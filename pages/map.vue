<template>
  <div class="container">
    <div class="map">
      <h1 class="map__title">
        <nuxt-link class="map__logo" to="/">
          <img src="~/assets/image/title.png" alt="" />
        </nuxt-link>
        遊びたいエリアを選ぼう！
      </h1>
      <svg
        width="1406"
        height="1125"
        viewBox="0 0 1406 1125"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        class="map__tokyo"
      >
        <path d="M1406 0H0V1124H1406V0Z" fill="#55DCFC" />
        <path
          d="M1156.3 828.019C1156.94 829.512 1156.28 831.249 1154.8 831.933L1023.76 892.687C1022.66 893.199 1021.35 892.993 1020.46 892.165L1009.75 882.23C1007.83 880.449 1004.71 881.81 1004.71 884.429V892.754C1004.71 893.265 1004.58 893.768 1004.33 894.215L995.661 909.76C994.476 911.885 991.386 911.789 990.335 909.594L981.898 891.967C981.333 890.786 980.067 890.108 978.771 890.292L957.429 893.32C956.483 893.455 955.658 894.031 955.207 894.872L951.431 901.909C950.775 903.133 951.044 904.648 952.083 905.57L961.039 913.527C963.101 915.359 961.805 918.77 959.046 918.77H935.587C933.273 918.77 931.83 921.28 932.996 923.28L937.77 931.472C938.109 932.054 938.633 932.505 939.259 932.752L1005.94 959.1C1007.4 959.677 1008.17 961.281 1007.7 962.78L993.594 1008.21C993.158 1009.61 991.768 1010.5 990.312 1010.29L937.538 1002.89C935.906 1002.66 934.394 1003.79 934.153 1005.42L930.534 1029.91C930.426 1030.64 930.589 1031.38 930.992 1031.99L940.691 1046.79C941.448 1047.95 942.897 1048.43 944.2 1047.97L955.58 1043.95C955.809 1043.87 956.047 1043.82 956.289 1043.79L958.477 1043.58C960.892 1043.34 962.216 1046.32 960.425 1047.96V1047.96C959.869 1048.46 959.569 1049.19 959.606 1049.94L963.083 1121.35C963.166 1123.07 961.801 1124.5 960.086 1124.5H3.00002C1.34317 1124.5 0 1123.16 0 1121.5V2.99999C0 1.34314 1.34315 0 3 0H1403C1404.66 0 1406 1.34315 1406 3V493.048C1406 493.946 1405.6 494.797 1404.9 495.367L1305.59 576.852C1305.23 577.142 1304.81 577.348 1304.37 577.453L1074.94 631.408C1073.12 631.836 1072.14 633.806 1072.88 635.521L1156.3 828.019Z"
          fill="url(#paint0_linear)"
        />
        <mask id="path-3-inside-1" fill="white">
          <path
            d="M185.148 297.034C183.174 295.841 180.639 296.153 179.013 297.791L162.6 314.326C161.987 314.943 161.223 315.39 160.384 315.622L143.209 320.371C141.61 320.813 139.896 320.433 138.634 319.357L136.327 317.392C134.609 315.928 132.123 315.796 130.26 317.071L87.7856 346.142C86.1024 347.294 85.2877 349.353 85.727 351.345L92.2628 380.981C92.5376 382.227 93.2786 383.321 94.334 384.039L119.679 401.273C120.973 402.153 121.781 403.589 121.861 405.152L123.956 446.074C124.019 447.31 124.538 448.479 125.413 449.354L137.461 461.403C138.535 462.477 139.062 463.981 138.895 465.49L137.019 482.401C136.902 483.453 137.123 484.515 137.648 485.434L150.341 507.635C150.64 508.158 151.031 508.623 151.496 509.007L176.562 529.724C177.189 530.241 177.68 530.904 177.992 531.654L188.385 556.594C188.866 557.75 189.764 558.683 190.9 559.209L265.983 593.954C266.641 594.259 267.358 594.416 268.083 594.416H293.499C295.694 594.416 297.633 595.849 298.278 597.948L301.225 607.543C301.615 608.812 302.493 609.873 303.665 610.494L340.245 629.861C340.965 630.242 341.768 630.442 342.584 630.442H360.745C363.506 630.442 365.745 632.68 365.745 635.442V648.186C365.745 650.123 366.863 651.886 368.616 652.71L383.366 659.65C384.721 660.288 386.291 660.284 387.644 659.64L407.142 650.357C408.84 649.548 410.849 649.761 412.34 650.908L423.752 659.686C424.574 660.318 425.179 661.19 425.483 662.181L433.211 687.342C433.856 689.441 435.795 690.874 437.991 690.874H440.504C442.397 690.874 444.128 691.943 444.976 693.636L453.093 709.861C453.709 711.093 454.807 712.016 456.126 712.412L485.927 721.362C487.753 721.91 489.732 721.372 491.03 719.974L501.808 708.36C503.151 706.914 505.219 706.392 507.088 707.03L534.423 716.355C534.98 716.546 535.567 716.636 536.156 716.622L579.522 715.586C580.346 715.566 581.163 715.751 581.898 716.123L626.136 738.499C626.958 738.915 627.878 739.095 628.796 739.021L646.792 737.566C648.349 737.44 649.876 738.049 650.919 739.213L721.932 818.482C722.215 818.799 722.457 819.149 722.652 819.527L741.331 855.743C742.423 857.859 744.855 858.912 747.145 858.26L763.63 853.561C765.925 852.907 767.438 850.723 767.243 848.345L760.959 771.639C760.777 769.423 759.119 767.61 756.927 767.232L754.935 766.888C752.856 766.529 751.654 764.327 752.477 762.384L757.407 750.749C758.079 749.164 760.459 749.797 760.253 751.507V751.507C760.237 751.643 760.239 751.779 760.26 751.914L762.835 768.432C763.074 769.963 764.009 771.297 765.367 772.043L771.462 775.394C773.372 776.443 775.741 776.135 777.319 774.633L784.823 767.487C785.703 766.649 786.859 766.16 788.073 766.112L791.935 765.959C794.817 765.845 797.005 763.322 796.711 760.452L795.696 750.56C795.601 749.636 795.251 748.757 794.684 748.021L772.488 719.174C771.711 718.163 770.577 717.488 769.318 717.286L753.28 714.713C751.524 714.431 750.05 713.238 749.409 711.58L747.908 707.701C747.453 706.523 746.568 705.561 745.432 705.008L735.851 700.347C735.142 700.003 734.299 700.1 733.687 700.596V700.596C731.964 701.993 729.571 700.005 730.629 698.055L732.813 694.028C733.427 692.895 734.708 692.295 735.971 692.548L742.58 693.868C743.808 694.113 744.9 694.81 745.639 695.822L756.059 710.089C756.819 711.129 757.951 711.836 759.219 712.062L778.581 715.516C780.15 715.796 781.759 715.311 782.912 714.21L787.879 709.466C789.413 708 789.856 705.727 788.983 703.793L786.822 699.004C785.582 696.258 787.035 693.047 789.916 692.166L803.503 688.01C804.682 687.649 805.686 686.866 806.323 685.81L814.54 672.18C815.743 670.185 818.163 669.285 820.377 670.01L936.023 707.86C936.937 708.159 937.746 708.716 938.352 709.464L956.006 731.252C956.767 732.191 957.842 732.823 959.033 733.03L981.308 736.913C982.936 737.196 984.318 738.266 985.001 739.77L1000.42 773.694C1001 774.979 1002.1 775.957 1003.45 776.387L1026.18 783.661C1028.58 784.431 1030.04 786.877 1029.56 789.36L1027.16 801.987C1026.48 805.508 1029.63 808.571 1033.13 807.81L1077.51 798.161C1078.6 797.925 1079.73 798.057 1080.73 798.534L1150.4 831.769C1152.82 832.918 1155.7 831.971 1156.96 829.616L1170.63 804.096C1171.55 802.382 1171.39 800.292 1170.23 798.736L1138.97 757.044C1137.93 755.647 1137.68 753.805 1138.33 752.185L1141.01 745.495C1141.6 744.035 1141.46 742.384 1140.65 741.04L1103.53 679.91C1102.83 678.755 1102.63 677.364 1102.97 676.056L1107.52 658.574C1108.41 655.133 1112.55 653.731 1115.4 655.865V655.865C1117.3 657.293 1117.96 659.882 1116.93 662.03L1109.77 677.079C1109.01 678.687 1109.15 680.581 1110.16 682.051L1148.86 738.608C1150.01 740.282 1152.05 741.098 1154.03 740.674L1188.07 733.407C1190.38 732.914 1192.03 730.876 1192.03 728.517V713.612C1192.03 712.101 1191.35 710.671 1190.17 709.722L1170.51 693.843C1168.94 692.567 1166.74 692.373 1164.96 693.353L1161.44 695.292C1157.34 697.546 1152.67 693.449 1154.37 689.094L1160.11 674.371C1160.64 673.02 1161.73 671.965 1163.09 671.478L1167.08 670.059C1169.21 669.3 1171.59 670.067 1172.87 671.93L1192.19 699.939C1194.56 703.378 1199.86 702.564 1201.09 698.571L1209.45 671.394C1210.31 668.607 1213.36 667.142 1216.07 668.217L1235.13 675.769C1236.86 676.455 1238.83 676.122 1240.24 674.905L1266.04 652.624C1267.2 651.63 1267.83 650.166 1267.77 648.646L1266.38 612.74C1266.3 610.596 1267.59 608.637 1269.6 607.874L1299.69 596.423C1301.55 595.717 1302.81 593.979 1302.91 591.995L1304.16 566.531C1304.23 565.026 1303.62 563.568 1302.5 562.562L1284.09 546.07C1282.8 544.913 1282.2 543.169 1282.51 541.461L1285.82 523.055C1286.05 521.751 1285.76 520.407 1285.01 519.319L1262.01 486.192C1260.31 483.738 1261.12 480.347 1263.75 478.935L1274.38 473.234C1276.42 472.145 1277.44 469.808 1276.86 467.577L1275.08 460.665C1274.52 458.498 1272.58 456.967 1270.35 456.917L1257.3 456.63C1254.74 456.573 1252.64 454.589 1252.43 452.036L1251.81 444.408C1251.58 441.631 1249.13 439.574 1246.36 439.835L1223.05 442.026C1222.17 442.109 1221.28 441.956 1220.48 441.585L1204.17 434.027C1203.21 433.581 1202.13 433.453 1201.09 433.661L1193.43 435.194C1190.03 435.872 1186.99 432.985 1187.5 429.563L1188.3 424.135C1188.59 422.126 1187.64 420.137 1185.89 419.104L1180.48 415.903C1179.27 415.186 1177.81 415.014 1176.46 415.429L1143.46 425.619C1141.92 426.096 1140.24 425.796 1138.95 424.814L1118.39 409.105C1116.67 407.785 1114.29 407.733 1112.5 408.975L1092.4 422.977C1090.67 424.181 1089.88 426.339 1090.43 428.374L1094.69 444.276C1095.57 447.569 1092.97 450.759 1089.57 450.561L1042.71 447.829C1041.49 447.758 1040.33 447.239 1039.47 446.371L1026.24 433.128C1025.19 432.08 1023.73 431.55 1022.26 431.681L958.613 437.315C957.199 437.44 955.905 438.16 955.053 439.296L929.883 472.866C929.043 473.986 927.772 474.703 926.379 474.842L915.309 475.946C912.519 476.225 910.131 473.964 910.256 471.163V471.163C910.374 468.511 908.228 466.309 905.573 466.359L886.841 466.711C885.914 466.728 885.009 467.003 884.229 467.506L852.297 488.065C849.073 490.14 844.808 487.964 844.598 484.135L841.63 430.18C841.485 427.529 839.293 425.454 836.638 425.454H826.071C824.867 425.454 823.704 425.888 822.794 426.677L787.078 457.657C786.189 458.428 785.057 458.861 783.881 458.879L757.222 459.302C756.425 459.315 755.643 459.517 754.941 459.893L724.212 476.343C723.475 476.738 722.651 476.941 721.815 476.935L661.935 476.485C660.972 476.478 660.027 476.749 659.214 477.266L652.48 481.549C651.087 482.435 649.346 482.576 647.828 481.926L643.55 480.093C641.711 479.305 640.519 477.497 640.519 475.497V469.692C640.519 467.628 639.25 465.775 637.324 465.03L629.658 462.061C627.577 461.256 626.282 459.169 626.483 456.947L626.735 454.172C626.933 451.986 625.681 449.926 623.65 449.094L600.108 439.454C599.235 439.097 598.278 438.993 597.349 439.157L575.811 442.939C573.729 443.304 571.643 442.322 570.599 440.485L559.323 420.65C559.036 420.146 558.84 419.596 558.742 419.024L556.34 405.009C555.929 402.608 553.848 400.853 551.412 400.853H546.394C543.958 400.853 541.877 399.098 541.466 396.697L540.523 391.189C540.14 388.955 538.303 387.258 536.046 387.053L520.813 385.673C519.929 385.593 519.081 385.278 518.359 384.762L508.509 377.727C507.224 376.809 505.58 376.552 504.076 377.035L483.387 383.673C482.409 383.987 481.359 383.992 480.378 383.688L457.22 376.507C455.803 376.068 454.264 376.281 453.019 377.088L448.68 379.903C446.897 381.06 444.577 380.963 442.897 379.662L432.334 371.482C431.673 370.97 430.895 370.632 430.07 370.499L417.476 368.463C415.471 368.139 413.469 369.059 412.411 370.793L410.528 373.874C409.62 375.361 408.003 376.268 406.261 376.268H393.332C392.396 376.268 391.479 376.005 390.685 375.51L342.131 345.214C341.61 344.889 341.032 344.662 340.428 344.546L258.327 328.764C257.409 328.587 256.46 328.672 255.587 329.008L247.153 332.255C245.711 332.81 244.093 332.667 242.77 331.868L185.148 297.034Z"
          />
        </mask>
        <path
          d="M185.148 297.034C183.174 295.841 180.639 296.153 179.013 297.791L162.6 314.326C161.987 314.943 161.223 315.39 160.384 315.622L143.209 320.371C141.61 320.813 139.896 320.433 138.634 319.357L136.327 317.392C134.609 315.928 132.123 315.796 130.26 317.071L87.7856 346.142C86.1024 347.294 85.2877 349.353 85.727 351.345L92.2628 380.981C92.5376 382.227 93.2786 383.321 94.334 384.039L119.679 401.273C120.973 402.153 121.781 403.589 121.861 405.152L123.956 446.074C124.019 447.31 124.538 448.479 125.413 449.354L137.461 461.403C138.535 462.477 139.062 463.981 138.895 465.49L137.019 482.401C136.902 483.453 137.123 484.515 137.648 485.434L150.341 507.635C150.64 508.158 151.031 508.623 151.496 509.007L176.562 529.724C177.189 530.241 177.68 530.904 177.992 531.654L188.385 556.594C188.866 557.75 189.764 558.683 190.9 559.209L265.983 593.954C266.641 594.259 267.358 594.416 268.083 594.416H293.499C295.694 594.416 297.633 595.849 298.278 597.948L301.225 607.543C301.615 608.812 302.493 609.873 303.665 610.494L340.245 629.861C340.965 630.242 341.768 630.442 342.584 630.442H360.745C363.506 630.442 365.745 632.68 365.745 635.442V648.186C365.745 650.123 366.863 651.886 368.616 652.71L383.366 659.65C384.721 660.288 386.291 660.284 387.644 659.64L407.142 650.357C408.84 649.548 410.849 649.761 412.34 650.908L423.752 659.686C424.574 660.318 425.179 661.19 425.483 662.181L433.211 687.342C433.856 689.441 435.795 690.874 437.991 690.874H440.504C442.397 690.874 444.128 691.943 444.976 693.636L453.093 709.861C453.709 711.093 454.807 712.016 456.126 712.412L485.927 721.362C487.753 721.91 489.732 721.372 491.03 719.974L501.808 708.36C503.151 706.914 505.219 706.392 507.088 707.03L534.423 716.355C534.98 716.546 535.567 716.636 536.156 716.622L579.522 715.586C580.346 715.566 581.163 715.751 581.898 716.123L626.136 738.499C626.958 738.915 627.878 739.095 628.796 739.021L646.792 737.566C648.349 737.44 649.876 738.049 650.919 739.213L721.932 818.482C722.215 818.799 722.457 819.149 722.652 819.527L741.331 855.743C742.423 857.859 744.855 858.912 747.145 858.26L763.63 853.561C765.925 852.907 767.438 850.723 767.243 848.345L760.959 771.639C760.777 769.423 759.119 767.61 756.927 767.232L754.935 766.888C752.856 766.529 751.654 764.327 752.477 762.384L757.407 750.749C758.079 749.164 760.459 749.797 760.253 751.507V751.507C760.237 751.643 760.239 751.779 760.26 751.914L762.835 768.432C763.074 769.963 764.009 771.297 765.367 772.043L771.462 775.394C773.372 776.443 775.741 776.135 777.319 774.633L784.823 767.487C785.703 766.649 786.859 766.16 788.073 766.112L791.935 765.959C794.817 765.845 797.005 763.322 796.711 760.452L795.696 750.56C795.601 749.636 795.251 748.757 794.684 748.021L772.488 719.174C771.711 718.163 770.577 717.488 769.318 717.286L753.28 714.713C751.524 714.431 750.05 713.238 749.409 711.58L747.908 707.701C747.453 706.523 746.568 705.561 745.432 705.008L735.851 700.347C735.142 700.003 734.299 700.1 733.687 700.596V700.596C731.964 701.993 729.571 700.005 730.629 698.055L732.813 694.028C733.427 692.895 734.708 692.295 735.971 692.548L742.58 693.868C743.808 694.113 744.9 694.81 745.639 695.822L756.059 710.089C756.819 711.129 757.951 711.836 759.219 712.062L778.581 715.516C780.15 715.796 781.759 715.311 782.912 714.21L787.879 709.466C789.413 708 789.856 705.727 788.983 703.793L786.822 699.004C785.582 696.258 787.035 693.047 789.916 692.166L803.503 688.01C804.682 687.649 805.686 686.866 806.323 685.81L814.54 672.18C815.743 670.185 818.163 669.285 820.377 670.01L936.023 707.86C936.937 708.159 937.746 708.716 938.352 709.464L956.006 731.252C956.767 732.191 957.842 732.823 959.033 733.03L981.308 736.913C982.936 737.196 984.318 738.266 985.001 739.77L1000.42 773.694C1001 774.979 1002.1 775.957 1003.45 776.387L1026.18 783.661C1028.58 784.431 1030.04 786.877 1029.56 789.36L1027.16 801.987C1026.48 805.508 1029.63 808.571 1033.13 807.81L1077.51 798.161C1078.6 797.925 1079.73 798.057 1080.73 798.534L1150.4 831.769C1152.82 832.918 1155.7 831.971 1156.96 829.616L1170.63 804.096C1171.55 802.382 1171.39 800.292 1170.23 798.736L1138.97 757.044C1137.93 755.647 1137.68 753.805 1138.33 752.185L1141.01 745.495C1141.6 744.035 1141.46 742.384 1140.65 741.04L1103.53 679.91C1102.83 678.755 1102.63 677.364 1102.97 676.056L1107.52 658.574C1108.41 655.133 1112.55 653.731 1115.4 655.865V655.865C1117.3 657.293 1117.96 659.882 1116.93 662.03L1109.77 677.079C1109.01 678.687 1109.15 680.581 1110.16 682.051L1148.86 738.608C1150.01 740.282 1152.05 741.098 1154.03 740.674L1188.07 733.407C1190.38 732.914 1192.03 730.876 1192.03 728.517V713.612C1192.03 712.101 1191.35 710.671 1190.17 709.722L1170.51 693.843C1168.94 692.567 1166.74 692.373 1164.96 693.353L1161.44 695.292C1157.34 697.546 1152.67 693.449 1154.37 689.094L1160.11 674.371C1160.64 673.02 1161.73 671.965 1163.09 671.478L1167.08 670.059C1169.21 669.3 1171.59 670.067 1172.87 671.93L1192.19 699.939C1194.56 703.378 1199.86 702.564 1201.09 698.571L1209.45 671.394C1210.31 668.607 1213.36 667.142 1216.07 668.217L1235.13 675.769C1236.86 676.455 1238.83 676.122 1240.24 674.905L1266.04 652.624C1267.2 651.63 1267.83 650.166 1267.77 648.646L1266.38 612.74C1266.3 610.596 1267.59 608.637 1269.6 607.874L1299.69 596.423C1301.55 595.717 1302.81 593.979 1302.91 591.995L1304.16 566.531C1304.23 565.026 1303.62 563.568 1302.5 562.562L1284.09 546.07C1282.8 544.913 1282.2 543.169 1282.51 541.461L1285.82 523.055C1286.05 521.751 1285.76 520.407 1285.01 519.319L1262.01 486.192C1260.31 483.738 1261.12 480.347 1263.75 478.935L1274.38 473.234C1276.42 472.145 1277.44 469.808 1276.86 467.577L1275.08 460.665C1274.52 458.498 1272.58 456.967 1270.35 456.917L1257.3 456.63C1254.74 456.573 1252.64 454.589 1252.43 452.036L1251.81 444.408C1251.58 441.631 1249.13 439.574 1246.36 439.835L1223.05 442.026C1222.17 442.109 1221.28 441.956 1220.48 441.585L1204.17 434.027C1203.21 433.581 1202.13 433.453 1201.09 433.661L1193.43 435.194C1190.03 435.872 1186.99 432.985 1187.5 429.563L1188.3 424.135C1188.59 422.126 1187.64 420.137 1185.89 419.104L1180.48 415.903C1179.27 415.186 1177.81 415.014 1176.46 415.429L1143.46 425.619C1141.92 426.096 1140.24 425.796 1138.95 424.814L1118.39 409.105C1116.67 407.785 1114.29 407.733 1112.5 408.975L1092.4 422.977C1090.67 424.181 1089.88 426.339 1090.43 428.374L1094.69 444.276C1095.57 447.569 1092.97 450.759 1089.57 450.561L1042.71 447.829C1041.49 447.758 1040.33 447.239 1039.47 446.371L1026.24 433.128C1025.19 432.08 1023.73 431.55 1022.26 431.681L958.613 437.315C957.199 437.44 955.905 438.16 955.053 439.296L929.883 472.866C929.043 473.986 927.772 474.703 926.379 474.842L915.309 475.946C912.519 476.225 910.131 473.964 910.256 471.163V471.163C910.374 468.511 908.228 466.309 905.573 466.359L886.841 466.711C885.914 466.728 885.009 467.003 884.229 467.506L852.297 488.065C849.073 490.14 844.808 487.964 844.598 484.135L841.63 430.18C841.485 427.529 839.293 425.454 836.638 425.454H826.071C824.867 425.454 823.704 425.888 822.794 426.677L787.078 457.657C786.189 458.428 785.057 458.861 783.881 458.879L757.222 459.302C756.425 459.315 755.643 459.517 754.941 459.893L724.212 476.343C723.475 476.738 722.651 476.941 721.815 476.935L661.935 476.485C660.972 476.478 660.027 476.749 659.214 477.266L652.48 481.549C651.087 482.435 649.346 482.576 647.828 481.926L643.55 480.093C641.711 479.305 640.519 477.497 640.519 475.497V469.692C640.519 467.628 639.25 465.775 637.324 465.03L629.658 462.061C627.577 461.256 626.282 459.169 626.483 456.947L626.735 454.172C626.933 451.986 625.681 449.926 623.65 449.094L600.108 439.454C599.235 439.097 598.278 438.993 597.349 439.157L575.811 442.939C573.729 443.304 571.643 442.322 570.599 440.485L559.323 420.65C559.036 420.146 558.84 419.596 558.742 419.024L556.34 405.009C555.929 402.608 553.848 400.853 551.412 400.853H546.394C543.958 400.853 541.877 399.098 541.466 396.697L540.523 391.189C540.14 388.955 538.303 387.258 536.046 387.053L520.813 385.673C519.929 385.593 519.081 385.278 518.359 384.762L508.509 377.727C507.224 376.809 505.58 376.552 504.076 377.035L483.387 383.673C482.409 383.987 481.359 383.992 480.378 383.688L457.22 376.507C455.803 376.068 454.264 376.281 453.019 377.088L448.68 379.903C446.897 381.06 444.577 380.963 442.897 379.662L432.334 371.482C431.673 370.97 430.895 370.632 430.07 370.499L417.476 368.463C415.471 368.139 413.469 369.059 412.411 370.793L410.528 373.874C409.62 375.361 408.003 376.268 406.261 376.268H393.332C392.396 376.268 391.479 376.005 390.685 375.51L342.131 345.214C341.61 344.889 341.032 344.662 340.428 344.546L258.327 328.764C257.409 328.587 256.46 328.672 255.587 329.008L247.153 332.255C245.711 332.81 244.093 332.667 242.77 331.868L185.148 297.034Z"
          fill="url(#paint1_linear)"
          stroke="white"
          stroke-width="4"
          mask="url(#path-3-inside-1)"
        />
        <path
          id="nakano"
          d="M989.588 594.684C996.165 594.684 1001.5 589.351 1001.5 582.772C1001.5 576.194 996.165 570.861 989.588 570.861C983.011 570.861 977.679 576.194 977.679 582.772C977.679 589.351 983.011 594.684 989.588 594.684Z"
          fill="#E0FFE3"
          class="pin"
          data-ja="中野区"
          @click="selectArea('nakano')"
        />
        <path
          id="hachioji"
          d="M518.765 666.978C525.342 666.978 530.674 661.645 530.674 655.067C530.674 648.489 525.342 643.156 518.765 643.156C512.187 643.156 506.855 648.489 506.855 655.067C506.855 661.645 512.187 666.978 518.765 666.978Z"
          fill="#E0FFE3"
          class="pin"
          data-ja="八王子市"
          @click="selectArea('hachioji')"
        />
        <path
          id="chiyoda"
          d="M1132.71 642.149C1139.29 642.149 1144.62 636.816 1144.62 630.238C1144.62 623.659 1139.29 618.326 1132.71 618.326C1126.13 618.326 1120.8 623.659 1120.8 630.238C1120.8 636.816 1126.13 642.149 1132.71 642.149Z"
          fill="#E0FFE3"
          class="pin"
          data-ja="千代田区"
          @click="selectArea('chiyoda')"
        />
        <defs>
          <linearGradient
            id="paint0_linear"
            x1="703"
            y1="0"
            x2="703"
            y2="1124.5"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#FFD08A" />
            <stop offset="1" stop-color="#FFBECC" />
          </linearGradient>
          <linearGradient
            id="paint1_linear"
            x1="694.638"
            y1="295"
            x2="694.638"
            y2="859.382"
            gradientUnits="userSpaceOnUse"
          >
            <stop offset="0.384331" stop-color="#00F3E5" />
            <stop offset="1" stop-color="#5FD8FF" />
          </linearGradient>
        </defs>
      </svg>
      <MapPin
        v-for="pin in pins"
        :key="pin.city"
        class="map__pin"
        :style="{ top: pin.top - 110 + 'px', left: pin.left + 12 + 'px' }"
        :remain="remain(pin.city)"
        :city="pin.ja"
        @click.native="selectArea(`${pin.city}`)"
      />
    </div>
    <Tutorial class="tutorial" />
    <div v-show="showModal" class="modal" @click.self="showModal = false">
      <div class="modal__inner">
        <Gauge
          class="modal__gauge"
          :selected-area="selectedArea"
          :old="current"
          :current="current"
          :show="showModal"
          :anime="false"
        />
        <p class="modal__text">このエリアで遊びますか？</p>
        <div class="modal__btn-wrap">
          <Button class="modal__btn" @click="closeModal">もどる</Button>
          <Button class="modal__btn" @click="startGame">OK</Button>
        </div>
      </div>
    </div>
  </div>
</template>

<style lang="scss" scoped>
.container {
  position: relative;
}
.tutorial {
  position: absolute;
  z-index: 10000;
  top: 0;
  left: 0;
}
.modal {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 300;
  background: rgba(0, 0, 0, 0.3);
  width: 100vw;
  height: 100vh;
  &__inner {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 80%;
  }
  &__gauge {
    margin-bottom: 40px;
  }
  &__text {
    margin-bottom: 40px;

    font-size: 48px;
    font-weight: 700;
    color: $c-text_white;
    text-align: center;
  }
  &__btn-wrap {
    display: flex;
    justify-content: center;
  }
  &__btn {
    width: 400px;
    margin-right: 80px;
    &:last-child {
      margin-right: 0;
    }
  }
}
.map {
  position: relative;

  width: 100vw;
  height: 100vh;

  overflow: hidden;
  &__logo {
    position: absolute;
    width: 180px;
    top: -10px;
    left: -60px;
    img {
      width: 100%;
    }
  }
  &__title {
    position: absolute;
    width: 80%;
    padding: 16px 32px;
    color: #fff;
    font-size: 48px;
    text-align: center;
    background: #ffa981;
    border-radius: 50px;
    z-index: 100;
    top: 40px;
    left: 50%;
    transform: translateX(-50%);
  }
  &__tokyo {
    position: absolute;
    top: 50%;
    left: 50%;

    width: 100%;
    transform: translate(-50%, -50%);

    .pin {
      &:hover {
        fill: #fff;
        cursor: pointer;
      }
    }
  }
  &__pin {
    position: absolute;
    transform: translateX(-50%);
  }
}
</style>

<script>
import Gauge from '~/components/Gauge'
import Button from '~/components/Button'
import MapPin from '~/components/MapPin'
import Tutorial from '~/components/game/Tutorial.vue'
import { NUM_INITIAL_FAIRY } from '~/lib/constant'

export default {
  components: {
    Gauge,
    Button,
    MapPin,
    Tutorial
  },
  data() {
    return {
      showModal: false,
      selectedArea: 'chiyoda',
      pins: [],
      bgm: null
    }
  },
  computed: {
    current() {
      return {
        ...this.$store.state[this.selectedArea]
      }
    }
  },
  mounted() {
    const pins = this.$el.querySelectorAll('.pin')
    pins.forEach(pin => {
      const rect = pin.getBoundingClientRect()
      const top = rect.top
      const left = rect.left
      this.pins.push({
        city: pin.id,
        ja: pin.dataset.ja,
        top,
        left
      })
    })

    // this.bgm = new Audio(require('~/assets/sound/02_overview/bgm/bgm.mp3'))
    // this.bgm.play()
    // this.bgm.addEventListener('ended', () => {
    //   this.bgm.currentTime = 0
    //   this.bgm.play()
    // })
    this.$store.commit('bgm/pauseBgm')
    const music = new Audio(require('~/assets/sound/02_overview/bgm/bgm.mp3'))
    this.$store.commit('bgm/changeBgm', { newBgm: music })
    this.$store.commit('bgm/playBgm')
  },
  methods: {
    selectArea(area) {
      const selectSE = new Audio(
        require('~/assets/sound/03_map/map_select/map_select.mp3')
      )
      selectSE.play()
      this.selectedArea = area
      console.log(this.selectedArea)
      // this.$nextTick(() => {
      // this.showModal = true

      // })
      this.showModal = true
    },
    closeModal() {
      const backSE = new Audio(
        require('~/assets/sound/02_overview/cancel/cancel.mp3')
      )
      backSE.play()
      this.showModal = false
    },
    startGame() {
      const okSE = new Audio(require('~/assets/sound/02_overview/ok/ok.mp3'))
      okSE.play()
      this.$router.push({ path: 'game', query: { area: this.selectedArea } })
    },
    remain(area) {
      const obj = this.$store.state[area]
      const numTypes = Object.keys(obj).length
      let total = 0
      Object.keys(obj).forEach(key => {
        total += obj[key]
      })
      return Math.floor((total / (NUM_INITIAL_FAIRY * numTypes)) * 100)
    }
  }
}
</script>
